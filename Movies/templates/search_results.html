{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Slabo+27px&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nothing+You+Could+Do&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'custom.css'%}">
</head>

<body class="d-flex flex-column align-items-center">

    
    <div class="container-main mt-5">
        <div class="container container-title d-flex justify-content-center col-sm-11 col-10">
            <div class="d-flex flex-column align-items-center">
                <span class="display-6 header-title">Horizon</span>
                <span class="header-captions my-0 py-0">Your movie destination</span>
            </div>
        </div>
    </div>
    
    
    <form id="form-query" action="{% url 'search_results' %}" method="POST">
        {% csrf_token %}
        <div class="input-group d-inline-flex justify-content-center align-items-center container-search-bar-index mt-3">
          <div class="d-flex justify-content-center align-items-center col-1">
            <i class="bi bi-search"></i>
          </div>
          <input type="text" placeholder="Search in 10 million movies" name="query" id="input-query-field" class="col-10 text-black  search-bar-input px-5">
          <div class="d-flex justify-content-center align-items-center col-1">
            <i class="bi bi-dice-5"></i>
          </div>
        </div>
      </form>

    <div class=" container container-main my-3">
        <p style="color: aliceblue; font-size: 20px;">Search Results For <span>{{query}}</span></p>
    </div>

    <div class="container container-main row ms-3 mt-3 d-flex justify-content-center">

        {% for result in res  %}

        <div class="card d-inline-flex p-0 tile-card" >
            <a href="{% url 'movie_details' result.id %}">
            <div class="container-poster-img" id="clickme">
                <img src=" https://image.tmdb.org/t/p/w300{{result.poster_path}}" alt="Default movie poster" class="img-fluid poster-img" >
            </div>
            
            <div class="container-tile-details px-3">
                <p class="mb-0">
                    <span class="tile-title">{{result.title}}</span>  
                <p class="p-tile-desc">
                    <span class="tile-desc">Released on : {{result.release_date}}</span>
                </p>
                </p>
            </div>
        </a>
        </div> 
        {% endfor %}

        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script src="{% static 'index.js'%}"></script>
</body>

</html>